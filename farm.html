<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
    <rect width="100%" height="100%" fill="white"/>
    
    <!-- Main -->
    <rect x="350" y="20" width="100" height="50" fill="#f0f0f0" stroke="black"/>
    <text x="400" y="50" text-anchor="middle" dominant-baseline="middle" font-weight="bold">Main</text>
    
    <!-- DiagonalEmitter -->
    <rect x="350" y="120" width="100" height="50" fill="#ffd700" stroke="black"/>
    <text x="400" y="150" text-anchor="middle" dominant-baseline="middle" font-weight="bold">DiagonalEmitter</text>
    
    <!-- Farm -->
    <rect x="100" y="220" width="600" height="200" fill="#e6e6e6" stroke="black" stroke-dasharray="5,5"/>
    <text x="400" y="240" text-anchor="middle" font-weight="bold">Farm (Wrap-around)</text>
    
    <!-- Workers -->
    <rect x="150" y="270" width="100" height="50" fill="#90ee90" stroke="black"/>
    <text x="200" y="300" text-anchor="middle" dominant-baseline="middle" font-weight="bold">DiagonalWorker</text>
    
    <rect x="350" y="270" width="100" height="50" fill="#90ee90" stroke="black"/>
    <text x="400" y="300" text-anchor="middle" dominant-baseline="middle" font-weight="bold">DiagonalWorker</text>
    
    <rect x="550" y="270" width="100" height="50" fill="#90ee90" stroke="black"/>
    <text x="600" y="300" text-anchor="middle" dominant-baseline="middle" font-weight="bold">DiagonalWorker</text>
    
    <text x="400" y="350" text-anchor="middle" dominant-baseline="middle">...</text>
    
    <!-- Arrows and steps -->
    <line x1="400" y1="70" x2="400" y2="120" stroke="black" stroke-width="1" marker-end="url(#arrowhead)"/>
    <text x="420" y="100" text-anchor="start" dominant-baseline="middle">1. Create and initialize</text>
    
    <line x1="400" y1="170" x2="400" y2="220" stroke="black" stroke-width="1" marker-end="url(#arrowhead)"/>
    <text x="420" y="200" text-anchor="start" dominant-baseline="middle">2. Generate tasks</text>
    
    <path d="M 400 170 Q 150 195 150 270" fill="none" stroke="black" stroke-width="1" marker-end="url(#arrowhead)"/>
    <path d="M 400 170 Q 650 195 650 270" fill="none" stroke="black" stroke-width="1" marker-end="url(#arrowhead)"/>
    <text x="660" y="230" text-anchor="start" dominant-baseline="middle">3. Distribute tasks</text>
    
    <!-- Wrap-around arrows -->
    <path d="M 150 320 Q 100 320 100 220 Q 100 170 350 145" fill="none" stroke="red" stroke-width="1" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
    <path d="M 400 320 Q 350 320 350 220 Q 350 170 380 170" fill="none" stroke="red" stroke-width="1" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
    <path d="M 650 320 Q 700 320 700 220 Q 700 170 450 145" fill="none" stroke="red" stroke-width="1" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
    <text x="10" y="220" text-anchor="start" dominant-baseline="middle" transform="rotate(-90 10,220)">4. Wrap-around: return completed tasks</text>
    
    <!-- Arrowhead definition -->
    <defs>
      <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
        <polygon points="0 0, 10 3.5, 0 7" />
      </marker>
    </defs>
    
    <!-- Legend -->
    <rect x="650" y="20" width="20" height="20" fill="#ffd700" stroke="black"/>
    <text x="675" y="30" dominant-baseline="middle">Emitter</text>
    
    <rect x="650" y="50" width="20" height="20" fill="#90ee90" stroke="black"/>
    <text x="675" y="60" dominant-baseline="middle">Worker</text>
    
    <line x1="650" y1="80" x2="670" y2="80" stroke="red" stroke-width="1" stroke-dasharray="5,5"/>
    <text x="675" y="80" dominant-baseline="middle">Wrap-around</text>
  </svg>